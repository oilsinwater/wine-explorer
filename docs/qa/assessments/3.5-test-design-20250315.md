# Test Design: Story 3.5 – Research-Aligned Landing Copy

Date: 2025-03-15
Designer: Quinn (Test Architect)

## Test Strategy Overview

- Total test scenarios: 6
- Unit tests: 2 (33%)
- Integration tests: 0 (0%)
- E2E tests: 4 (67%)
- Priority distribution: P0: 0, P1: 5, P2: 1

## Test Scenarios by Acceptance Criteria

### AC1: Hero/descriptive copy references Cortez et al. (2009) and Vinho Verde datasets

| ID          | Level | Priority | Test                                                                                                                      | Justification                                        |
| ----------- | ----- | -------- | ------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------- |
| 3.5-E2E-001 | e2e   | P1       | Cypress spec `landing.citesResearch` verifies hero headline, subtext, and feature cards include Cortez et al. references. | Ensures copy renders end-to-end in production build. |

### AC2: Landing page exposes direct links to paper, UCI dataset, and GitHub repo

| ID          | Level | Priority | Test                                                                                                                                                                         | Justification                                                           |
| ----------- | ----- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------- |
| 3.5-E2E-002 | e2e   | P1       | Cypress assertion that `Read original paper`, `UCI Machine Learning Repository`, and `UCI ML Repo GitHub` anchors exist with correct `href`, `target`, and `rel` attributes. | Link correctness is user-facing; best validated via browser automation. |

### AC3: Reference dossier lists sample sizes, physicochemical variables, modeling focus

| ID           | Level | Priority | Test                                                                                                                                                           | Justification                                               |
| ------------ | ----- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------- |
| 3.5-UNIT-001 | unit  | P1       | Jest snapshot of `featureSections`/reference-stack JSX (or component-level test) to ensure sample counts, variable list, and regression wording remain intact. | Cheap regression guard for static copy.                     |
| 3.5-E2E-003  | e2e   | P1       | Cypress assertions that sample counts (`1,599` / `4,898`), variable list, and “Regression-based quality prediction” text appear in dossier.                    | Full render validation to catch localization/markup issues. |

### AC4: CTA to `/wine-explorer` continues to navigate correctly

| ID          | Level | Priority | Test                                                                                                                          | Justification                           |
| ----------- | ----- | -------- | ----------------------------------------------------------------------------------------------------------------------------- | --------------------------------------- |
| 3.5-E2E-004 | e2e   | P1       | Extend existing `landing.navigation` spec to click “Open analysis workspace” and confirm route transition + focus management. | Critical navigation path for workshops. |

### AC5 & AC6: Typography/accessibility controls preserved

| ID           | Level | Priority | Test                                                                                                                                 | Justification                                             |
| ------------ | ----- | -------- | ------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------- |
| 3.5-UNIT-002 | unit  | P2       | Storybook/React Testing Library render ensuring typography variants and layout props match design tokens (optional visual snapshot). | Fast guardrail on layout tokens.                          |
| 3.5-E2E-005  | e2e   | P1       | Cypress accessibility smoke verifying Help/High Contrast controls remain in visualization header with ARIA labels.                   | Accessibility affordances are critical for learning labs. |

### AC7–AC9: Verification & regression evidence

Covered implicitly via 3.5-UNIT-001, 3.5-UNIT-002, and full Vitest run `npm test -- --run`; no additional scenarios required.

## Risk Coverage

- No incremental risks identified; scenarios ensure copy/link regressions are caught before release.

## Recommended Execution Order

1. Unit snapshots (3.5-UNIT-001, 3.5-UNIT-002) – fast feedback
2. E2E copy/link validations (3.5-E2E-001 → 3.5-E2E-005)
3. Include in nightly regression suite after integration with existing Cypress runs

## Coverage Checklist

- [x] Every acceptance criterion mapped to at least one test
- [x] Test levels chosen per test-levels framework (no redundant coverage)
- [x] Priorities set according to test-priorities matrix
- [x] Scenarios are atomic and traceable
