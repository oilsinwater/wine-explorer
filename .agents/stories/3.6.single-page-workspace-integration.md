## Status

Draft

## Story

**As a** faculty member guiding a seminar,  
**I want** the interactive Wine Explorer workspace to live within the home page,  
**so that** participants can move from the research overview into exploration without navigating to a separate route.

## Acceptance Criteria

1. The home page renders the dataset selector, filter panel, info panel, and visualization area directly below the existing landing sections.
2. The “Open analysis workspace” CTA scrolls/focuses the embedded workspace section instead of routing to `/wine-explorer`.
3. The `/wine-explorer` route is removed or redirected so deep links continue to function (e.g., navigating to `/` with a workspace anchor/hash).
4. `WineDataContext`, `AccessibilityProvider`, and other shared providers wrap the workspace exactly once after consolidation, with no runtime errors.
5. Keyboard navigation and skip links allow users to reach the embedded workspace efficiently.
6. Existing URL query preservation/state management for filters remains unchanged.
7. Local lint/build/test suites succeed with no TypeScript issues.
8. Manual regression confirms dataset switching, filtering, visualization toggles, and high-contrast controls in the embedded layout.
9. Bundle size/performance are monitored and any notable warnings documented post-merge.

## Tasks / Subtasks

- [ ] Merge workspace layout into `src/pages/index.tsx` (AC: 1)
  - [ ] Embed dataset selector, filter panel, info panel, visualization area under landing sections.
  - [ ] Preserve academic landing content layout and spacing tokens.
- [ ] Update routing to retire `/wine-explorer` page (AC: 2,3)
  - [ ] Remove or redirect route definition in `routeTree.gen.ts` / router config.
  - [ ] Ensure legacy deep links land on `/` with workspace anchor and focus management.
- [ ] Adjust CTA behavior (AC: 2)
  - [ ] Convert “Open analysis workspace” button to scroll/focus anchor on the consolidated page.
- [ ] Validate providers and state management (AC: 4,6)
  - [ ] Confirm `AppProvider`, `AccessibilityProvider`, and `WineDataContext` wrap the embedded workspace exactly once.
  - [ ] Verify URL query params for filters persist across reloads.
- [ ] Accessibility & navigation pass (AC: 5)
  - [ ] Confirm skip links/keyboard navigation reach workspace without extra tabbing.
- [ ] Testing & performance (AC: 7,8,9)
  - [ ] Run `npm run lint`, `npm run build`, `npm test -- --run`.
  - [ ] Execute manual regression: dataset switch, filtering, visualization, high-contrast controls.
  - [ ] Capture bundle-size/performance notes if warnings surface.
- [ ] Documentation update (AC: 9)
  - [ ] Update README or landing copy if navigation behavior changes.

## Dev Notes

### Architecture & Integration References

- Starting point files:
  - `src/pages/wine-explorer.tsx` (workspace layout)
  - `src/pages/index.tsx` (landing sections)
  - `src/routeTree.gen.ts` / router config for current `/wine-explorer` route
  - `src/context/WineDataContext.tsx`, `src/context/AccessibilityContext.tsx` for provider usage
- Follow existing grid layout: selector on top, filters/info sidebar, visualization main area.
- Consider extracting shared layout components if duplication becomes excessive.
- Add an anchor (`id="workspace"`) near the embedded workspace to support CTA scrolling/focus.

### Testing

- Automated:
  - `npm run lint`
  - `npm run build`
  - `npm test -- --run`
- Manual:
  - Validate CTA scroll/focus behavior.
  - Dataset switching, filtering, visualization toggles, and accessibility controls within embedded layout.
  - Keyboard navigation/skip link flow from top of page to workspace.
  - Confirm URL query params for filters persist and deep links redirect to `/`.

## Change Log

| Date       | Version | Description                                      | Author |
| ---------- | ------- | ------------------------------------------------ | ------ |
| 2025-03-15 | 0.1     | Rewrote story using standard template and tasks. | Bob    |

## Dev Agent Record

### Agent Model Used

_(populated by Dev Agent)_

### Debug Log References

_(populated by Dev Agent)_

### Completion Notes List

_(populated by Dev Agent)_

### File List

_(populated by Dev Agent)_

## QA Results

_(populated by QA Agent)_
